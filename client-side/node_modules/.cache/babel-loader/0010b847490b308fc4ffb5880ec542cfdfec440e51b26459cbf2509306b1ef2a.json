{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vijay\\\\Desktop\\\\start\\\\client-side\\\\src\\\\Components\\\\OrganisationCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./Components.css\";\nimport Button from \"react-bootstrap/Button\";\nimport { useNavigate } from \"react-router-dom\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function OrganisationCard(prop) {\n  _s();\n  const navigate = useNavigate();\n  let currentUser_ = {};\n\n  // modal\n  const [show, setShow] = useState(false);\n  const handleClose = () => {\n    setShow(false);\n  };\n  const handleLeave = async () => {\n    setShow(false);\n    currentUser_ = JSON.parse(localStorage.getItem(\"currentUser\"));\n    const out = {\n      name: currentUser_.name,\n      email: currentUser_.email,\n      password: currentUser_.password,\n      organisations: currentUser_.organisations,\n      userId: currentUser_._id,\n      organisationId: prop.id\n    };\n    try {\n      const response = await fetch(\"https://dizkuz-server.onrender.com/leaveOrg\", {\n        method: \"POST\",\n        body: JSON.stringify(out),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const newOrgs = await response.json();\n      if (newOrgs.process === \"success\") {\n        let curUser = {\n          name: newOrgs.user.name,\n          email: newOrgs.user.email,\n          password: newOrgs.user.password,\n          organisations: newOrgs.user.organisations,\n          messages: newOrgs.user.messages,\n          _id: newOrgs.user._id,\n          __v: newOrgs.user.__v\n        };\n        localStorage.removeItem(\"currentUser\");\n        localStorage.setItem(\"currentUser\", JSON.stringify(curUser));\n        // navigate(\"/organisations\");\n        prop.setRerenderer(!prop.rerenderer);\n        const redirectURL = \"/organisations\";\n        localStorage.setItem(\"dizkuzredirectURL\", JSON.stringify(redirectURL));\n        navigate(\"/redirect\");\n      }\n    } catch (error) {\n      window.alert(\"Try again !\");\n      setShow(true);\n    }\n  };\n  const handleClick = () => {\n    const dizkuzData = {\n      currentOrganisation: prop.id,\n      currentOrganisationName: prop.title,\n      currentCategory: \"none\",\n      currentCategoryName: \"none\",\n      currentIssue: \"none\"\n    };\n    localStorage.setItem(\"dizkuzData\", JSON.stringify(dizkuzData));\n    navigate(\"/categories\");\n  };\n  const leaveOrganisation = () => {\n    setShow(true);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"OrganisationCardOuter\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"OrganisationTitle\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: prop.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 26\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"OrganisationButtons\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"orgbtn\",\n          variant: \"outline-primary\",\n          onClick: handleClick,\n          children: \"Open\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"orgbtn\",\n          variant: \"outline-danger\",\n          onClick: leaveOrganisation,\n          children: \"Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Are you sure?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: \"Once you leave this, you won't be able to access it ever again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: handleLeave,\n          children: \"Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true);\n}\n_s(OrganisationCard, \"m2y5J430Md3cvuO+urCMlmIxPS8=\", false, function () {\n  return [useNavigate];\n});\n_c = OrganisationCard;\nvar _c;\n$RefreshReg$(_c, \"OrganisationCard\");","map":{"version":3,"names":["React","useState","Button","useNavigate","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","OrganisationCard","prop","_s","navigate","currentUser_","show","setShow","handleClose","handleLeave","JSON","parse","localStorage","getItem","out","name","email","password","organisations","userId","_id","organisationId","id","response","fetch","method","body","stringify","headers","newOrgs","json","process","curUser","user","messages","__v","removeItem","setItem","setRerenderer","rerenderer","redirectURL","error","window","alert","handleClick","dizkuzData","currentOrganisation","currentOrganisationName","title","currentCategory","currentCategoryName","currentIssue","leaveOrganisation","children","className","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClick","onHide","Header","closeButton","Title","Body","Footer","_c","$RefreshReg$"],"sources":["C:/Users/vijay/Desktop/start/client-side/src/Components/OrganisationCard.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Components.css\";\nimport Button from \"react-bootstrap/Button\";\nimport { useNavigate } from \"react-router-dom\";\nimport Modal from \"react-bootstrap/Modal\";\n\nexport default function OrganisationCard(prop) {\n     const navigate = useNavigate();\n     let currentUser_ = {};\n\n     // modal\n     const [show, setShow] = useState(false);\n\n     const handleClose = () => {\n          setShow(false);\n     };\n     const handleLeave = async () => {\n          setShow(false);\n          currentUser_ = JSON.parse(localStorage.getItem(\"currentUser\"));\n          const out = {\n               name: currentUser_.name,\n               email: currentUser_.email,\n               password: currentUser_.password,\n               organisations: currentUser_.organisations,\n               userId: currentUser_._id,\n               organisationId: prop.id,\n          };\n          try {\n               const response = await fetch(\"https://dizkuz-server.onrender.com/leaveOrg\", {\n                    method: \"POST\",\n                    body: JSON.stringify(out),\n                    headers: {\n                         \"Content-Type\": \"application/json\",\n                    },\n               });\n               const newOrgs = await response.json();\n               if (newOrgs.process === \"success\") {\n                    let curUser = {\n                         name: newOrgs.user.name,\n                         email: newOrgs.user.email,\n                         password: newOrgs.user.password,\n                         organisations: newOrgs.user.organisations,\n                         messages: newOrgs.user.messages,\n                         _id: newOrgs.user._id,\n                         __v: newOrgs.user.__v,\n                    };\n                    localStorage.removeItem(\"currentUser\");\n                    localStorage.setItem(\n                         \"currentUser\",\n                         JSON.stringify(curUser)\n                    );\n                    // navigate(\"/organisations\");\n                    prop.setRerenderer(!prop.rerenderer);\n                    const redirectURL = \"/organisations\";\n                    localStorage.setItem(\n                         \"dizkuzredirectURL\",\n                         JSON.stringify(redirectURL)\n                    );\n                    navigate(\"/redirect\");\n               }\n          } catch (error) {\n               window.alert(\"Try again !\");\n               setShow(true);\n          }\n     };\n\n     const handleClick = () => {\n          const dizkuzData = {\n               currentOrganisation: prop.id,\n               currentOrganisationName: prop.title,\n               currentCategory: \"none\",\n               currentCategoryName: \"none\",\n               currentIssue: \"none\",\n          };\n          localStorage.setItem(\"dizkuzData\", JSON.stringify(dizkuzData));\n          navigate(\"/categories\");\n     };\n     const leaveOrganisation = () => {\n          setShow(true);\n     };\n\n     return (\n          <>\n               <div className=\"OrganisationCardOuter\">\n                    <div className=\"OrganisationTitle\">\n                         {\" \"}\n                         <h5>{prop.title}</h5>{\" \"}\n                    </div>\n                    <div className=\"OrganisationButtons\">\n                         <Button\n                              className=\"orgbtn\"\n                              variant=\"outline-primary\"\n                              onClick={handleClick}\n                         >\n                              Open\n                         </Button>\n                         <Button\n                              className=\"orgbtn\"\n                              variant=\"outline-danger\"\n                              onClick={leaveOrganisation}\n                         >\n                              Leave\n                         </Button>\n                    </div>\n               </div>\n               <Modal show={show} onHide={handleClose}>\n                    <Modal.Header closeButton>\n                         <Modal.Title>Are you sure?</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                         Once you leave this, you won&apos;t be able to access it\n                         ever again.\n                    </Modal.Body>\n                    <Modal.Footer>\n                         <Button variant=\"secondary\" onClick={handleClose}>\n                              Cancel\n                         </Button>\n                         <Button variant=\"danger\" onClick={handleLeave}>\n                              Leave\n                         </Button>\n                    </Modal.Footer>\n               </Modal>\n          </>\n     );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}